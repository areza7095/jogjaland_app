<link rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
      integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://bootswatch.com/4/journal/bootstrap.min.css"
    />
    <link rel="stylesheet" href="assets/fontawesome-free-6.6.0-web/css/all.min.css">

<h1 class="mt-4">Dashboard</h1>
<p class="lead mb-3">Welcome <%= user.name %></p>
<a href="/users/logout" class="btn btn-secondary">Logout</a>

<h2>Upload an Image</h2>
<form action="/users/dashboard/upload" method="POST" enctype="multipart/form-data">
  <input type="file" name="image" required />
  <input type="text" name="description" placeholder="Enter description" required />
  <button type="submit" class="btn btn-primary">Upload</button>
</form>

<h2 class="mt-4">Uploaded Images</h2>
<ul>
  <% images.forEach(image => { %>
    <li>
        <img src="<%= image.imageData %>" alt="" style="max-width: 200px;" />
        <p><%= image.description %></p>

        <!-- Edit Description Form -->
        <form action="/users/dashboard/edit/<%= image._id %>" method="POST" style="display: inline;">
          <input type="text" name="description" value="<%= image.description %>" required />
          <button type="submit" class="btn btn-warning">Edit</button>
        </form>

        <!-- Delete Button -->
        <form action="/users/dashboard/delete/<%= image._id %>" method="POST" style="display: inline;">
          <button type="submit" class="btn btn-danger">Delete</button>
        </form>
    </li>
  <% }); %>
</ul>
